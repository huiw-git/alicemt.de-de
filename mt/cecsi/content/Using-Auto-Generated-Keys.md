---
title: "Verwenden von automatisch generierten Schl&#252;sseln"
ms.custom: na
ms.date: 07/27/2016
ms.prod: sql-non-specified
ms.reviewer: na
ms.suite: na
ms.technology: 
  - drivers
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 55a062c7-45ce-40e3-9a6f-4a0f4da4e2a6
caps.latest.revision: 18
caps.handback.revision: 15
manager: jhubbard
translation.priority.ht: 
  - de-de
  - es-es
  - fr-fr
  - it-it
  - ja-jp
  - ko-kr
  - pt-br
  - ru-ru
  - sv-se
  - zh-cn
  - zh-tw
---
# Verwenden von automatisch generierten Schl&#252;sseln
  [!INCLUDE[jdbcNoVersion](../content/includes/jdbcNoVersion_md.md)] unterstützt die optionalen JDBC 3.0\-APIs für das Abrufen automatisch generierter Zeilen\-IDs. Der Hauptwert dieser Funktion besteht darin, eine Möglichkeit zu bieten, IDENTITY\-Werte einer Anwendung zur Verfügung zu stellen, die eine Datenbanktabelle aktualisiert, ohne dass eine Abfrage und ein zweiter Roundtrip zum Server notwendig sind.  
  
 Da [!INCLUDE[ssNoVersion](../content/includes/ssNoVersion_md.md)] keine Pseudospalten für IDs unterstützt, müssen Updates, die die Funktion für die automatische Generierung von Schlüsseln verwenden müssen, eine Tabelle verwenden, die eine IDENTITY\-Spalte enthält.[!INCLUDE[ssNoVersion](../content/includes/ssNoVersion_md.md)] lässt nur eine einzelne IDENTITY\-Spalte pro Tabelle zu. Das von der [getGeneratedKeys](../content/getGeneratedKeys-Method--SQLServerStatement-.md)\-Methode der [SQLServerStatement](../content/SQLServerStatement-Class.md)\-Klasse zurückgegebene Resultset enthält nur eine Spalte mit dem Namen GENERATED\_KEYS. Wenn generierte Schlüssel für eine Tabelle ohne IDENTITY\-Spalte angefordert werden, gibt der JDBC\-Treiber ein leeres Resultset zurück.  
  
 Erstellen Sie als Beispiel die folgende Tabelle in der [!INCLUDE[ssVersion2005](../content/includes/ssVersion2005_md.md)][!INCLUDE[ssSampleDBnormal](../content/includes/ssSampleDBnormal_md.md)]\-Beispieldatenbank:  
  
```  
CREATE TABLE TestTable   
   (Col1 int IDENTITY,   
    Col2 varchar(50),   
    Col3 int);  
```  
  
 Im folgenden Beispiel wird eine offene Verbindung mit der [!INCLUDE[ssSampleDBnormal](../content/includes/ssSampleDBnormal_md.md)]\-Beispieldatenbank an die Funktion übergeben und eine SQL\-Anweisung erstellt. Anschließend werden die Daten der Tabelle hinzugefügt, die Anweisung wird ausgeführt, und der Wert der IDENTITY\-Spalte wird angezeigt.  
  
 [!CODE [JDBC#UsingAutoGeneratedKeys1](../CodeSnippet/SQLDrivers/jdbc#usingautogeneratedkeys1)]  
  
## Siehe auch  
 [Verwenden von Anweisungen mit dem JDBC-Treiber](../content/Using-Statements-with-the-JDBC-Driver.md)  
  
  